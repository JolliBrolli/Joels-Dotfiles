# Converted to windowrulev2 (recommended) and updated for mail clients.
# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Variables
$Opacity = opacity 1.0 1.0 # Changed to explicit active and inactive opacity

# Ignore maximize requests from apps.
windowrule {
  name = windowrule-1
  suppress_event = maximize
  match:class = .*
}



# Fix some dragging issues with XWayland
windowrule {
  name = windowrule-2
  no_focus = on
  match:class = ^$
  match:title = ^$
  match:xwayland = 1
  match:float = 1
  match:fullscreen = 0
  match:pin = 0
}


# Apps placed on specific Workspaces
# Note: For static rules like 'workspace', the matching is done against the initialTitle/initialClass.

windowrule {
  name = windowrule-3
  workspace = 2
  match:title = (.*Google Chrome.*)
  opacity = $Opacity
}

windowrule {
  name = windowrule-4
  workspace = 2
  match:title = (.*Firefox.*)
  opacity = $Opacity
}

windowrule {
  name = windowrule-5
  workspace = 2
  match:title = (.*Zen Browser.*)
  opacity = 0.99999
}

windowrule {
  name = windowrule-6
  workspace = 3
  match:class = (com.code.editor)
  opacity = $Opacity
}

windowrule {
  name = windowrule-7
  workspace = 5
  match:title = (.*Spotify.*)
  opacity = $Opacity
}

windowrule {
  name = windowrule-8
  workspace = 4
  match:title = (.*Youtube.*)
  opacity = $Opacity
}



# ------------------------------------------------------------------
# MERGED MAIL CLIENT RULE - Matches both Profile 1 and Profile 2 classes
# ------------------------------------------------------------------
windowrule {
  name = windowrule-9
  float = on
  size = 1200 900
  center = on
  match:class = ^((chrome-mail\.google\.com__-Profile_1)|(chrome-mail\.google\.com__-Default))$
  opacity = $Opacity
}

windowrule {
  name = windowrule-10
  match:class = ^((chrome-mail\.google\.com__-Profile_1)|(chrome-mail\.google\.com__-Default))$
  opacity = $Opacity
}



# Custom floating class (dotfiles-floating)
windowrule {
  name = windowrule-11
  float = on
  size = 1000 700
  center = on
  match:class = (com.dotfiles-floating)
  opacity = $Opacity
}

windowrule {
  name = windowrule-12
  match:class = (com.dotfiles-floating)
  opacity = $Opacity
}


# Custom floating bluetooth manager
windowrule {
  name = windowrule-13
  float = on
  size = 1000 700
  center = on
  match:class = (blueman-manager)
  opacity = $Opacity
}

windowrule {
  name = windowrule-14
  match:class = (blueman-manager)
  opacity = $Opacity
}


# Custom floating blueberry
windowrule {
  name = windowrule-15
  float = on
  size = 1000 700
  center = on
  match:class = (blueberry.py)
  opacity = $Opacity
}

windowrule {
  name = windowrule-16
  match:class = (blueberry.py)
  opacity = $Opacity
}


# Custom floating SonyHeadphonesClient
windowrule {
  name = windowrule-17
  float = on
  size = 1000 700
  center = on
  match:class = (SonyHeadphonesClient)
  opacity = $Opacity
}

windowrule {
  name = windowrule-18
  match:class = (SonyHeadphonesClient)
  opacity = $Opacity
}


# Custom volume control manager
windowrule {
  name = windowrule-19
  float = on
  size = 1000 700
  center = on
  match:class = (org.pulseaudio.pavucontrol)
  opacity = $Opacity
}

windowrule {
  name = windowrule-20
  match:class = (org.pulseaudio.pavucontrol)
  opacity = $Opacity
}


# Custom colour picker manager
windowrule {
  name = windowrule-21
  float = on
  size = 1000 700
  center = on
  match:class = (gcolor3)
  opacity = $Opacity
}

windowrule {
  name = windowrule-22
  match:class = (gcolor3)
  opacity = $Opacity
}


# Custom Thunar manager
windowrule {
  name = windowrule-23
  float = on
  size = 1200 900
  center = on
  match:class = (thunar)
  opacity = $Opacity
}

windowrule {
  name = windowrule-24
  match:class = (thunar)
  opacity = $Opacity
}


windowrule {
  name = windowrule-25
  float = on
  size = 1200 900
  center = on
  match:class = (chrome-mail.google.com__-Gmail)
  opacity = $Opacity
}

windowrule {
  name = windowrule-26
  match:class = (chrome-mail.google.com__-Gmail)
  opacity = $Opacity
}


# Custom Ai manager
windowrule {
  name = windowrule-27
  float = on
  size = 1600 900
  center = on
  match:class = (chrome-gemini.google.com__app-Gemini)
  opacity = $Opacity
}

windowrule {
  name = windowrule-28
  match:class = (chrome-gemini.google.com__app-Gemini)
  opacity = $Opacity
}


# Custom Open Files manager (Now uses V2's comma-separated matching fields)
windowrule {
  name = windowrule-29
  float = on
  size = 1600 900
  center = on
  match:class = (xdg-desktop-portal-gtk)
  match:initial_title = (Open Files)
  opacity = $Opacity
}

windowrule {
  name = windowrule-30
  match:class = (xdg-desktop-portal-gtk)
  match:initial_title = (Open Files)
  opacity = $Opacity
}
# Waypaper
windowrule {
  name = windowrule-31
  float = on
  size = 900 700
  center = on
  pin = on
  match:class = (.*waypaper.*)
  opacity = $Opacity
}

# Custom rofi blur
layerrule {
  name = layerrule-1
  blur = on
  match:namespace = rofi
}


windowrule {
  name = windowrule-32
  opacity = 0.0 override
  no_anim = on
  no_initial_focus = on
  max_size = 1 1
  no_blur = on
  no_focus = on
  match:class = ^(xwaylandvideobridge)$
}


